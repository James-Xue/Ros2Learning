# 🤖 ROS 2 机器人运动学 (Kinematics) 深度解析

本项目是一个面向初学者的机器人运动学学习包，涵盖了从简单的平面机构到工业级六轴机械臂的核心算法实现。

---

## 📂 功能模块

本仓库通过两个核心求解器，演示了机器人学中最重要的数学基石：

### 1. 平面二自由度求解器 (`Planar2DOF`)
- **场景**：模拟工作在二维平面上的连杆机构（如绘图仪、SCARA 机器人的前两轴）。
- **正运动学 (FK)**：通过简单的三角函数计算末端坐标。
- **逆运动学 (IK)**：使用**几何法（余弦定理）**求解。
  - 完美演示了“工作空间检查”（能不能够得着）。
  - 演示了“多解现象”：同一个目标点，机械臂可以有“肘上（Elbow Up）”和“肘下（Elbow Down）”两种姿态。

### 2. 六轴球形手腕求解器 (`SphericalWrist6DOF`)
- **场景**：模拟典型的工业六轴机械臂（如 PUMA 560、UR 协作臂）。
- **核心技术：运动学解耦 (Kinematic Decoupling)**
  - 将复杂的 6D 空间问题拆解为 3D 位置解 + 3D 姿态解。
- **正运动学**：演示了 **D-H 参数矩阵连乘法** 的数学魅力。
- **逆运动学**：演示了如何通过“回退一个工具长度”找到手腕中心点，从而将 6 轴难题降维打击。

---

## 📐 核心知识点：D-H 参数 (Denavit-Hartenberg)

本项目深入浅出地演示了 D-H 参数的 4 个关键动作：
1. **$\theta$ (Theta)**: 绕 Z 轴旋转（关节电机转动）。
2. **$d$ (d)**: 沿 Z 轴平移（对齐高度）。
3. **$a$ (a)**: 沿 X 轴平移（骨头长度）。
4. **$\alpha$ (Alpha)**: 绕 X 轴旋转（扭转关节方向）。

通过这 4 个参数构成的 $4 \times 4$ 齐次变换矩阵，我们可以描述世界上任何串联机械臂的运动。

---

## 🚀 运行演示 (2-DOF Demo)

1. **编译包**：
   ```bash
   colcon build --packages-select ros2_learning_kinematics
   source install/setup.bash
   ```

2. **运行测试节点**：
   ```bash
   ros2 run ros2_learning_kinematics ik_demo_node
   ```

**实验现象**：
节点会每 2 秒随机生成一个目标点，调用逆运动学算回关节角，并再次通过正运动学验证误差。你可以在终端看到极高精度的解算结果。

---

## 📚 学习建议

1. 先看 `planar_2dof.cpp`：理解余弦定理是如何锁定关节角度的。
2. 再看 `spherical_wrist_6dof.cpp`：理解手腕中心点是如何让 6 轴计算变简单的。
3. 思考：为什么 6 自由度是三维世界的“黄金标准”？

---
> [!TIP]
> 机器人运动学的本质不是编程，而是**解析几何**。理解了 D-H 矩阵，你就拿到了通往高性能运动控制器的钥匙。
